# 智能定时提醒插件

基于AI函数调用的智能定时提醒插件，支持自然语言交互和传统命令管理，为LangBot用户提供便捷的定时任务功能。

## ✨ 核心特性

### 🤖 AI智能交互
- **自然语言理解**：直接对机器人说话即可设置提醒
- **智能时间解析**：支持各种时间表达方式
- **自动函数调用**：基于GPT的函数调用能力

### ⏰ 强大的提醒功能
- **灵活时间设置**：相对时间、绝对时间、自然语言时间
- **重复提醒支持**：单次、每天、每周、每月
- **精确消息发送**：支持群聊和私聊，自动@提及用户
- **数据持久化**：提醒数据自动保存，重启后恢复

### 🛠️ 完善的管理功能
- **提醒列表查看**：查看所有活跃提醒
- **灵活控制**：删除、暂停、恢复提醒
- **状态管理**：实时显示提醒状态

## 🚀 快速开始

### 安装方式

1. **通过插件管理页面安装**：
   - 配置完成 [LangBot](https://github.com/RockChinQ/LangBot) 主程序
   - 进入插件管理页面
   - 搜索并安装"智能定时提醒插件"

2. **手动安装**：
   ```bash
   # 下载插件文件到LangBot插件目录
   git clone https://github.com/your-username/ReminderPlugin
   # 重启LangBot或重新加载插件
   ```

### 依赖要求
- LangBot 主程序
- Python 3.8+
- dateparser>=1.1.0

## 📖 使用指南

### 🌟 智能AI设置（推荐使用）

直接对机器人说话，AI会自动理解并设置提醒：

```
# 基础提醒
"提醒我30分钟后开会"
"1小时后提醒我休息"

# 具体时间提醒  
"明天早上9点提醒我上班"
"今晚8点提醒我看电视"
"下周一下午3点提醒我开会"

# 重复提醒
"每天早上7点提醒我起床"
"每周五下午6点提醒我写周报"
"每月1号提醒我交房租"

# 复杂时间表达
"后天中午12点提醒我吃饭"
"下个月15号上午10点提醒我体检"
```

### 📋 传统命令管理

| 命令 | 功能 | 示例 |
|------|------|------|
| `查看提醒` / `提醒列表` / `我的提醒` | 查看所有提醒 | `查看提醒` |
| `删除提醒 [序号]` | 删除指定提醒 | `删除提醒 1` |
| `暂停提醒 [序号]` | 暂停指定提醒 | `暂停提醒 2` |
| `恢复提醒 [序号]` | 恢复指定提醒 | `恢复提醒 2` |
| `提醒帮助` / `定时提醒帮助` | 查看帮助信息 | `提醒帮助` |

### 🕐 支持的时间格式

#### 相对时间
- `30分钟后`、`1小时后`、`2天后`
- `明天`、`后天`、`下周`、`下个月`

#### 绝对时间
- `今晚8点`、`明天上午9点`
- `下周一下午3点`、`下个月15号`
- `2024-12-25 10:00`

#### 重复类型
- `不重复`（默认）：一次性提醒
- `每天`：每天重复
- `每周`：每周重复
- `每月`：每月重复

## 💡 使用场景

### 🏢 工作场景
```
"明天上午10点提醒我开晨会"
"每天下午6点提醒我写工作日报"
"下周五提醒我提交项目报告"
```

### 🏠 生活场景
```
"30分钟后提醒我关火"
"每天晚上9点提醒我给花浇水"
"每周日提醒我打扫卫生"
```

### 💊 健康管理
```
"每天早上8点提醒我吃维生素"
"每4小时提醒我喝水"
"每月1号提醒我称体重"
```

### 🎯 学习计划
```
"每天晚上8点提醒我背单词"
"每周三提醒我复习课程"
"考试前一周提醒我准备复习资料"
```

## 🔧 高级功能

### 提醒状态管理

查看提醒列表时，会显示每个提醒的状态：

```
📋 您的提醒列表：
1. 开会 - 2024-06-06 15:30 (不重复) ✅ 活跃
2. 吃药 - 2024-06-06 20:00 (每天) ⏸️ 暂停
3. 写报告 - 2024-06-07 09:00 (每周) ✅ 活跃
```

### 智能时间识别

插件使用先进的自然语言处理技术，能够理解各种时间表达：

- **中文时间**：`明天下午三点`、`后天上午`
- **英文时间**：`tomorrow 3pm`、`next Monday`
- **混合表达**：`下周一 15:00`、`明天 9:30`

### 消息发送特性

- **精确定位**：在群聊中会@提及设置提醒的用户
- **智能路由**：自动识别消息来源（群聊/私聊）
- **时间准确**：基于系统时间精确触发

## 📁 文件结构

```
ReminderPlugin/
├── main.py          # 主程序文件
├── manifest.yaml    # 插件配置清单
├── requirements.txt # 依赖库列表
├── README.md        # 使用说明文档
├── __init__.py      # Python包标识
└── reminders.json   # 提醒数据存储（自动生成）
```

## ⚙️ 配置选项

在插件管理页面可以配置以下选项：

| 配置项 | 默认值 | 说明 |
|--------|--------|------|
| `max_reminders_per_user` | 50 | 每个用户最大提醒数量 |
| `reminder_advance_notice` | 0 | 提前通知时间（分钟） |
| `enable_group_reminders` | true | 是否启用群组提醒 |
| `timezone` | Asia/Shanghai | 默认时区设置 |

## 🔍 故障排除

### 常见问题解答

**Q: AI无法理解我的时间表达？**
A: 尝试使用更明确的时间表达，如"明天下午3点"而不是"明天下午"。

**Q: 提醒没有按时触发？**
A: 检查系统时间是否正确，确保LangBot正常运行且插件已激活。

**Q: 在群聊中设置提醒后没有收到？**
A: 确认配置中启用了群组提醒功能，检查机器人是否有发送消息权限。

**Q: 重启后提醒消失了？**
A: 检查插件目录下是否有`reminders.json`文件，确保文件格式正确。

**Q: 如何批量删除提醒？**
A: 目前需要逐个删除，可以先用"查看提醒"查看序号，然后依次删除。

### 调试信息

如需查看详细的运行日志，可以：

1. 检查LangBot日志文件
2. 查看插件的调试输出
3. 确认`reminders.json`文件内容

### 数据备份

提醒数据存储在`reminders.json`文件中，建议定期备份：

```bash
# 备份提醒数据
cp reminders.json reminders_backup_$(date +%Y%m%d).json
```

## 🔄 更新日志

### v1.0.0 (当前版本)
- ✨ 新增AI函数调用支持
- ✨ 自然语言时间解析
- ✨ 智能消息发送机制
- ✨ 完善的提醒管理功能
- ✨ 数据持久化存储
- ✨ 异步任务管理
- ✨ 群聊和私聊支持

### 未来计划
- 🔄 定时任务的cron表达式支持
- 📱 微信小程序推送集成
- 🌍 多时区支持
- 📊 提醒统计和分析
- 🔔 自定义提醒铃声

## 🤝 贡献指南

欢迎参与插件开发！你可以：

1. **报告问题**：在GitHub提交Issue
2. **功能建议**：提出新功能想法
3. **代码贡献**：提交Pull Request
4. **文档改进**：完善使用说明

### 开发环境

```bash
# 克隆项目
git clone https://github.com/your-username/ReminderPlugin
cd ReminderPlugin

# 安装依赖
pip install -r requirements.txt

# 运行测试
python -m pytest tests/
```

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](LICENSE) 文件。

## 🙏 致谢

感谢以下项目和贡献者：

- [LangBot](https://github.com/RockChinQ/LangBot) - 强大的AI聊天机器人框架
- [dateparser](https://github.com/scrapinghub/dateparser) - 自然语言日期解析库
- 所有测试用户和反馈者

---

**💬 获取帮助**

如有问题或建议，欢迎：
- 📧 发送邮件：your-email@example.com
- 💬 加入讨论群：[群号码]
- 🐛 提交Issue：[GitHub Issues](https://github.com/your-username/ReminderPlugin/issues)

智能提醒让生活更有序！🎯